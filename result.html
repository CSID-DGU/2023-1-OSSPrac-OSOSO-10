<!DOCTYPE html>
<html lang="en">

<head>
    <title>result page</title>
    <script>
        function deleteChecked() {
            var table = document.getElementById("myTable");
            var checkboxes = table.getElementsByTagName("input");
            for (var i = 0; i < checkboxes.length; i++) {
                if (checkboxes[i].type == "checkbox" && checkboxes[i].checked) {
                    table.deleteRow(checkboxes[i].parentNode.parentNode.rowIndex);
                }
            }
        }
    </script>
    <style>
        a {
            text-decoration-line: none;
        }
    </style>
</head>

<body>

    <form method="POST">
        <table id="myTable" border='1'>
            <thead>
                {% for key in result_list[0].keys() %}
                <tc>
                    <th>{{ key }}</th>
                </tc>
                {% endfor %}
                <td><input type="checkbox"></td>
            </thead>
            <tbody>
                {% for result in result_list %}
                <tr>
                    {% for value in result.values() %}
                    <tc>
                        <td>{{ value }}</td>
                    </tc>
                    {% endfor %}
                    <td><input type="checkbox"></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <input type="button" value="deleteRow" onclick="deleteChecked()">
        <button type='submit' formaction='/add_row' name='Add row' value='Add row'>Add row</button>
        <br><button type='Home' name='Home' value='Home'><a href="/">Home</a></button></br>
    </form>
</body>

</html>